#:kivy 1.0.9
#: import utils kivy.utils
#: import os os
#: import global_components global_components
#: set backgroundColor "#521808" #"#521808"
#: set color1 "#382f32"

<MultiClassRoot>:
    VBoxLayout:
        VBoxLayout:
            canvas.before:
                Color: 
                    rgba: .5, 0, 0, .6 #rgb: utils.get_color_from_hex(backgroundColor)
                Rectangle:
                    pos: self.pos
                    size: self.size
            size_hint_y: .35
            spacing: dp(5)
            GridLayout:
                # size_hint_max_x: dp(100)
                # size_hint_min_x: dp(70)
                #size_hint_y: None
                size_hint_x: .6            
                #height: dp(100)
                pos_hint: {"center_x": .5, "center_y": .5}
                padding: dp(10) , dp(10)
                spacing: dp(5)
                cols: 3
                Button:
                    text: 'Load AI Model'
                    on_release: root.show_load_model_file()
                Button:
                    text: 'Load Image'
                    on_release: root.show_load_image()
                Button:
                    text: 'Load Label .txt file'
                    on_release: root.show_load_labels_file()
                
            Label:
                id: selected_model_file
                text: " "
                size_hint: None, None
                size: self.texture_size
                pos_hint: {"center_x": .5, "center_y": .5}
                font_size: dp(15)
                #color: 1,1,1,1
                #bold: True

            Label:
                id: selected_labels_file
                text: " "
                size_hint: None, None
                size: self.texture_size
                pos_hint: {"center_x": .5, "center_y": .5}
                font_size: dp(15)
                #bold: True
                
            BoxLayout:
                padding: dp(10), dp(10)
                size_hint_x: .25 
                pos_hint: {"center_x": .5, "center_y": .5}
                Button:
                    text: 'Predict'
                    on_release: root.predict()

        GridLayout:
            cols: 3
            size_hint_y: .5
            pos_hint: {"center_x": .5, "center_y": .5}
            canvas.before:
                Color: 
                    rgb: utils.get_color_from_hex(color1)
                Rectangle:
                    pos: self.pos
                    size: self.size
            VBoxLayout:
                #size_hint_x: .6
                TitleLabel:
                    text: "Selected Image" 
                Image:
                    canvas.before:
                        Color: 
                            rgb: utils.get_color_from_hex(color1)
                        Rectangle:
                            pos: self.pos
                            size: self.size
                    id: image
                    source: "./ressource/images/app/waiting1.png" 
                    pos_hint: {"center_x": .5, "center_y": .5}
            BoxLayout:
                size_hint_x: 0.01
                canvas:
                    Color: 
                        rgb: 1, 1, 1
                    Rectangle:
                        pos: self.pos
                        size: self.size

            VBoxLayout:
                #size_hint_x: .45
                VBoxLayout:
                    TitleLabel:
                        text: "Predicted class"
                    ValueLabel:
                        id: class_label
                        text: " " 
                VBoxLayout:
                    TitleLabel:
                        text: "Accuracy"
                    ValueLabel:
                        id: accuracy_label
                        text: " "
